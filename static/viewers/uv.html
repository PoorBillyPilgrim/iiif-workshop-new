<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Universal Viewer</title>
    <style>
      html,
      body,
      .uv {
        width: 99%;
        height:99%;
      }
    </style>
    <link rel="stylesheet" type="text/css" href="./uv/uv.css">
    <script type="text/javascript" src="./uv/lib-dist/utils/dist/utils.js"></script>
    <script type="text/javascript" src="./uv/lib/offline.js"></script>
    <script type="text/javascript" src="./uv/helpers.js"></script>
  </head>
  <body>
    <!-- <div class="uv" data-locale="en-GB:English (GB),cy-GB:Cymraeg" data-config="uv-config.json" data-collectionindex="0" data-manifestindex="0" data-sequenceindex="0" data-canvasindex="0" data-rotation="0" style="width:100%; height:100%; background-color: #000"></div> -->

    <div id="uv" class="uv"></div>

    <!-- <script>
      $(function() {
        var this_manifest = "http://localhost:3000/manifest.json"
        var qs = window.location.href.match(/#.*[?&]manifest=([^&]+)(&|$)/);
        if(qs && qs[1]){
           this_manifest = qs[1];
         }
       $('.uv').attr('data-uri', this_manifest);
       $('body').append('<script type="text/javascript" id="embedUV" src="./uv/lib/embed.js"><\/script>');
      });
    </script> -->

    <script>
    window.addEventListener('uvLoaded', function (e) {
      var this_manifest = 'http://localhost:3000/manifest.json';
      var qs = window.location.href.match(/#.*[?&]manifest=([^&]+)(&|$)/);
      if(qs && qs[1]){
         this_manifest = qs[1];
       }
      createUV('#uv', {
        iiifResourceUri: this_manifest,
        configUri: 'uv-config.json'
      }, new UV.URLDataProvider());
    }, false);
    </script>


    <script src="./uv/uv.js" charset="utf-8"></script>
  </body>
</html>
